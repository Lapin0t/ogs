<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" class="alectryon-standalone" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.21.2: https://docutils.sourceforge.io/" />
<title>Covering for free contexts</title>
<link rel="stylesheet" href="alectryon.css" type="text/css" />
<link rel="stylesheet" href="docutils_basic.css" type="text/css" />
<link rel="stylesheet" href="pygments.css" type="text/css" />
<script type="text/javascript" src="alectryon.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" />
<meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="alectryon-root alectryon-windowed"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.17.0+0.17.3. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><div class="document" id="covering-for-free-contexts">
<h1 class="title">Covering for free contexts</h1>

<p>In <a class="reference external" href="Ctx.html">Ctx/Ctx.v</a> we have instanciated the relevant part of the abstract interface
for concrete contexts. Here we tackle the rest of the structure. Basically, we need to
provide case-splitting for deciding if a variable <tt class="docutils literal">i : (Œì +‚ñ∂ Œî) ‚àã x</tt> is in <tt class="docutils literal">Œì</tt> or in
<tt class="docutils literal">Œî</tt>. We could do this directly but we prove a slight generalization, going through the
definition of coverings, a ternary relationship on concrete contexts witnessing that a
context is <em>covered</em> by the two others (respecting order).</p>
<div class="section" id="a-covering">
<h1>A covering</h1>
<p>This inductive family provides proofs that some context <tt class="docutils literal">zs</tt> is obtained by &quot;zipping&quot;
together two other contexts <tt class="docutils literal">xs</tt> and <tt class="docutils literal">ys</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">cover</span> : ctx X -&gt; ctx X -&gt; ctx X -&gt; <span class="kt">Type</span> :=
  | CNil : ‚àÖ‚Çì ‚äé ‚àÖ‚Çì  ‚â° ‚àÖ‚Çì
  | CLeft  {x xs ys zs} : xs ‚äé ys ‚â° zs -&gt; (xs ‚ñ∂‚Çì x) ‚äé ys ‚â° (zs ‚ñ∂‚Çì x)
  | CRight {x xs ys zs} : xs ‚äé ys ‚â° zs -&gt; xs ‚äé (ys ‚ñ∂‚Çì x) ‚â° (zs ‚ñ∂‚Çì x)
  <span class="kn">where</span> <span class="s2">&quot;a ‚äé b ‚â° c&quot;</span> := (cover a b c).</span></span></pre><p>Basic useful coverings.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Equations</span> <span class="nf">cover_nil_r</span> <span class="nv">xs</span> : xs ‚äé ‚àÖ‚Çì ‚â° xs :=
    cover_nil_r ‚àÖ‚Çì        := CNil ;
    cover_nil_r (xs ‚ñ∂‚Çì _) := CLeft (cover_nil_r xs) .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Arguments</span> cover_nil_r {xs}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Equations</span> <span class="nf">cover_nil_l</span> <span class="nv">xs</span> : ‚àÖ‚Çì ‚äé xs ‚â° xs :=
    cover_nil_l ‚àÖ‚Çì        := CNil ;
    cover_nil_l (xs ‚ñ∂‚Çì _) := CRight (cover_nil_l xs) .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Arguments</span> cover_nil_l {xs}.</span></span></pre><p>This is the crucial one: the concatenation is covered by its two components.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Equations</span> <span class="nf">cover_cat</span> {<span class="nv">xs</span>} <span class="nv">ys</span> : xs ‚äé ys ‚â° (xs +‚ñ∂ ys) :=
    cover_cat ‚àÖ‚Çì        := cover_nil_r ;
    cover_cat (ys ‚ñ∂‚Çì _) := CRight (cover_cat ys) .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Arguments</span> cover_cat {xs ys}.</span></span></pre><p>A covering gives us two injective renamings, left embedding and right embedding.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Equations</span> <span class="nf">r_cover_l</span> {<span class="nv">xs</span> <span class="nv">ys</span> <span class="nv">zs</span>} : xs ‚äé ys ‚â° zs -&gt; xs ‚äÜ zs :=
    r_cover_l (CLeft c)  _ top     := top ;
    r_cover_l (CLeft c)  _ (pop i) := pop (r_cover_l c _ i) ;
    r_cover_l (CRight c) _ i       := pop (r_cover_l c _ i) .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Equations</span> <span class="nf">r_cover_r</span> {<span class="nv">xs</span> <span class="nv">ys</span> <span class="nv">zs</span>} : xs ‚äé ys ‚â° zs -&gt; ys ‚äÜ zs :=
    r_cover_r (CLeft c)  _ i       := pop (r_cover_r c _ i) ;
    r_cover_r (CRight c) _ top     := top ;
    r_cover_r (CRight c) _ (pop i) := pop (r_cover_r c _ i) .</span></span></pre><p>Injectivity.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk0"><span class="kn">Lemma</span> <span class="nf">r_cover_l_inj</span> {<span class="nv">xs</span> <span class="nv">ys</span> <span class="nv">zs</span>} (<span class="nv">p</span> : xs ‚äé ys ‚â° zs) [x] (i j : xs ‚àã x)
    (H : r_cover_l p _ i = r_cover_l p _ j) : i = j .</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>xs ‚àã x</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l p x i = r_cover_l p x j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>xs ‚àã x</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l p x i = r_cover_l p x j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk2"><span class="nb">induction</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>‚àÖ‚Çì ‚àã x</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l CNil x i = r_cover_l CNil x j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="covering-v-chk3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>xs ‚ñ∂‚Çì x0 ‚àã x</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CLeft p) x i = r_cover_l (CLeft p) x j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : xs ‚àã x, r_cover_l p x i = r_cover_l p x j -&gt; i = j</span></span></span><br></div><label class="goal-separator" for="covering-v-chk3"><hr></label><div class="goal-conclusion">i = j</div></blockquote><input class="alectryon-extra-goal-toggle" id="covering-v-chk4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>xs ‚àã x</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CRight p) x i =
r_cover_l (CRight p) x j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : xs ‚àã x, r_cover_l p x i = r_cover_l p x j -&gt; i = j</span></span></span><br></div><label class="goal-separator" for="covering-v-chk4"><hr></label><div class="goal-conclusion">i = j</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>‚àÖ‚Çì ‚àã x</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l CNil x i = r_cover_l CNil x j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">dependent elimination i.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>xs ‚ñ∂‚Çì x0 ‚àã x</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CLeft p) x i = r_cover_l (CLeft p) x j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : xs ‚àã x, r_cover_l p x i = r_cover_l p x j -&gt; i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk7">dependent elimination i; dependent elimination j; <span class="kp">try</span> <span class="bp">now</span> <span class="nb">inversion</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>y0</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>Œì1, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Œì1 ‚äé ys ‚â° zs</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>v, v0</var><span class="hyp-type"><b>: </b><span>var x Œì1</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CLeft p) x (pop v) =
r_cover_l (CLeft p) x (pop v0)</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : Œì1 ‚àã x, r_cover_l p x i = r_cover_l p x j -&gt; i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pop v = pop v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk8"><span class="nb">apply</span> noConfusion_inv <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>y0</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>Œì1, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Œì1 ‚äé ys ‚â° zs</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>v, v0</var><span class="hyp-type"><b>: </b><span>var x Œì1</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>NoConfusion (r_cover_l (CLeft p) x (pop v))
  (r_cover_l (CLeft p) x (pop v0))</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : Œì1 ‚àã x, r_cover_l p x i = r_cover_l p x j -&gt; i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pop v = pop v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">f_equal</span>; <span class="bp">now</span> <span class="nb">apply</span> IHp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>xs ‚àã x</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CRight p) x i =
r_cover_l (CRight p) x j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : xs ‚àã x, r_cover_l p x i = r_cover_l p x j -&gt; i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chka"><span class="nb">apply</span> noConfusion_inv <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x0</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>xs ‚àã x</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>NoConfusion (r_cover_l (CRight p) x i)
  (r_cover_l (CRight p) x j)</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : xs ‚àã x, r_cover_l p x i = r_cover_l p x j -&gt; i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">apply</span> IHp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chkb"><span class="kn">Lemma</span> <span class="nf">r_cover_r_inj</span> {<span class="nv">xs</span> <span class="nv">ys</span> <span class="nv">zs</span>} (<span class="nv">p</span> : xs ‚äé ys ‚â° zs) [y] (i j : ys ‚àã y)
    (H : r_cover_r p _ i = r_cover_r p _ j) : i = j .</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>ys ‚àã y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_r p y i = r_cover_r p y j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chkc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>ys ‚àã y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_r p y i = r_cover_r p y j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chkd"><span class="nb">induction</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>‚àÖ‚Çì ‚àã y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_r CNil y i = r_cover_r CNil y j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="covering-v-chke" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>ys ‚àã y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_r (CLeft p) y i = r_cover_r (CLeft p) y j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : ys ‚àã y, r_cover_r p y i = r_cover_r p y j -&gt; i = j</span></span></span><br></div><label class="goal-separator" for="covering-v-chke"><hr></label><div class="goal-conclusion">i = j</div></blockquote><input class="alectryon-extra-goal-toggle" id="covering-v-chkf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>ys ‚ñ∂‚Çì x ‚àã y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_r (CRight p) y i =
r_cover_r (CRight p) y j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : ys ‚àã y, r_cover_r p y i = r_cover_r p y j -&gt; i = j</span></span></span><br></div><label class="goal-separator" for="covering-v-chkf"><hr></label><div class="goal-conclusion">i = j</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk10">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>‚àÖ‚Çì ‚àã y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_r CNil y i = r_cover_r CNil y j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">dependent elimination i.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk11">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>ys ‚àã y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_r (CLeft p) y i = r_cover_r (CLeft p) y j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : ys ‚àã y, r_cover_r p y i = r_cover_r p y j -&gt; i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> noConfusion_inv <span class="kr">in</span> H; <span class="bp">now</span> <span class="nb">apply</span> IHp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk12">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>ys ‚ñ∂‚Çì x ‚àã y</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_r (CRight p) y i =
r_cover_r (CRight p) y j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : ys ‚àã y, r_cover_r p y i = r_cover_r p y j -&gt; i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk13">dependent elimination i; dependent elimination j; <span class="kp">try</span> <span class="bp">now</span> <span class="nb">inversion</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>y1</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, Œì1, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé Œì1 ‚â° zs</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>v, v0</var><span class="hyp-type"><b>: </b><span>var y Œì1</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_r (CRight p) y (pop v) =
r_cover_r (CRight p) y (pop v0)</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : Œì1 ‚àã y, r_cover_r p y i = r_cover_r p y j -&gt; i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pop v = pop v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk14"><span class="nb">apply</span> noConfusion_inv <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>y1</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, Œì1, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé Œì1 ‚â° zs</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>v, v0</var><span class="hyp-type"><b>: </b><span>var y Œì1</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>NoConfusion (r_cover_r (CRight p) y (pop v))
  (r_cover_r (CRight p) y (pop v0))</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> <span class="nv">i</span> <span class="nv">j</span> : Œì1 ‚àã y, r_cover_r p y i = r_cover_r p y j -&gt; i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">pop v = pop v0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">f_equal</span>; <span class="bp">now</span> <span class="nb">apply</span> IHp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><p>The two embeddings have disjoint images.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk15"><span class="kn">Lemma</span> <span class="nf">r_cover_disj</span> {<span class="nv">xs</span> <span class="nv">ys</span> <span class="nv">zs</span>} (<span class="nv">p</span> : xs ‚äé ys ‚â° zs) [a] (i : xs ‚àã a) (j : ys ‚àã a)
    (H : r_cover_l p _ i = r_cover_r p _ j) : T0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>xs ‚àã a</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>ys ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l p a i = r_cover_r p a j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk16"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>xs ‚àã a</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>ys ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l p a i = r_cover_r p a j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk17"><span class="nb">induction</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>‚àÖ‚Çì ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l CNil a i = r_cover_r CNil a j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="covering-v-chk18" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>xs ‚ñ∂‚Çì x ‚àã a</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>ys ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CLeft p) a i = r_cover_r (CLeft p) a j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : xs ‚àã a) (<span class="nv">j</span> : ys ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><label class="goal-separator" for="covering-v-chk18"><hr></label><div class="goal-conclusion">T0</div></blockquote><input class="alectryon-extra-goal-toggle" id="covering-v-chk19" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>xs ‚àã a</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>ys ‚ñ∂‚Çì x ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CRight p) a i =
r_cover_r (CRight p) a j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : xs ‚àã a) (<span class="nv">j</span> : ys ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><label class="goal-separator" for="covering-v-chk19"><hr></label><div class="goal-conclusion">T0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk1a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>‚àÖ‚Çì ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l CNil a i = r_cover_r CNil a j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">inversion</span> i.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk1b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>xs ‚ñ∂‚Çì x ‚àã a</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>ys ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CLeft p) a i = r_cover_r (CLeft p) a j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : xs ‚àã a) (<span class="nv">j</span> : ys ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk1c">dependent elimination i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>Œì, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Œì ‚äé ys ‚â° zs</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>ys ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CLeft p) a top =
r_cover_r (CLeft p) a j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : Œì ‚àã a) (<span class="nv">j</span> : ys ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="covering-v-chk1d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>Œì0, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Œì0 ‚äé ys ‚â° zs</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>var a Œì0</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>ys ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CLeft p) a (pop v) =
r_cover_r (CLeft p) a j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : Œì0 ‚àã a) (<span class="nv">j</span> : ys ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><label class="goal-separator" for="covering-v-chk1d"><hr></label><div class="goal-conclusion">T0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk1e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>Œì, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Œì ‚äé ys ‚â° zs</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>ys ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CLeft p) a top =
r_cover_r (CLeft p) a j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : Œì ‚àã a) (<span class="nv">j</span> : ys ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">inversion</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk1f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>Œì0, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Œì0 ‚äé ys ‚â° zs</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>var a Œì0</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>ys ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CLeft p) a (pop v) =
r_cover_r (CLeft p) a j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : Œì0 ‚àã a) (<span class="nv">j</span> : ys ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk20"><span class="nb">apply</span> noConfusion_inv <span class="kr">in</span> H; <span class="nb">cbn</span> <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>Œì0, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Œì0 ‚äé ys ‚â° zs</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>var a Œì0</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>ys ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l p a v = r_cover_r p a j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : Œì0 ‚àã a) (<span class="nv">j</span> : ys ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (IHp v j H).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk21">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>xs ‚àã a</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>ys ‚ñ∂‚Çì x ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CRight p) a i =
r_cover_r (CRight p) a j</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : xs ‚àã a) (<span class="nv">j</span> : ys ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk22">dependent elimination j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, Œì, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé Œì ‚â° zs</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>xs ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CRight p) a i =
r_cover_r (CRight p) a top</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : xs ‚àã a) (<span class="nv">j</span> : Œì ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="covering-v-chk23" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, Œì0, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé Œì0 ‚â° zs</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>xs ‚àã a</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>var a Œì0</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CRight p) a i =
r_cover_r (CRight p) a (pop v)</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : xs ‚àã a) (<span class="nv">j</span> : Œì0 ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><label class="goal-separator" for="covering-v-chk23"><hr></label><div class="goal-conclusion">T0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk24">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, Œì, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé Œì ‚â° zs</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>xs ‚àã a</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CRight p) a i =
r_cover_r (CRight p) a top</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : xs ‚àã a) (<span class="nv">j</span> : Œì ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">inversion</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk25">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, Œì0, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé Œì0 ‚â° zs</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>xs ‚àã a</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>var a Œì0</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l (CRight p) a i =
r_cover_r (CRight p) a (pop v)</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : xs ‚àã a) (<span class="nv">j</span> : Œì0 ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk26"><span class="nb">apply</span> noConfusion_inv <span class="kr">in</span> H; <span class="nb">cbn</span> <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>xs, Œì0, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé Œì0 ‚â° zs</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>xs ‚àã a</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>var a Œì0</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l p a i = r_cover_r p a v</span></span></span><br><span><var>IHp</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : xs ‚àã a) (<span class="nv">j</span> : Œì0 ‚àã a), ¬¨ (r_cover_l p a i = r_cover_r p a j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">exact</span> (IHp i v H).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><p>Now we can start proving that the copairing of the two embeddings has non-empty fibers,
ie, we can case split.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Variant</span> <span class="nf">cover_view</span> {<span class="nv">xs</span> <span class="nv">ys</span> <span class="nv">zs</span>} (<span class="nv">p</span> : xs ‚äé ys ‚â° zs) [z] : zs ‚àã z -&gt; <span class="kt">Type</span> :=
  | Vcov_l  (i : xs ‚àã z) : cover_view p (r_cover_l p _ i)
  | Vcov_r (j : ys ‚àã z) : cover_view p (r_cover_r p _ j)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Arguments</span> Vcov_l {xs ys zs p z}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Arguments</span> Vcov_r {xs ys zs p z}.</span></span></pre><p>Indeed!</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk27"><span class="kn">Lemma</span> <span class="nf">view_cover</span> {<span class="nv">xs</span> <span class="nv">ys</span> <span class="nv">zs</span>} (<span class="nv">p</span> : xs ‚äé ys ‚â° zs) [z] (i : zs ‚àã z) : cover_view p i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>zs ‚àã z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cover_view p i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk28"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>xs, ys, zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° zs</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>zs ‚àã z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cover_view p i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk29"><span class="nb">revert</span> xs ys p; <span class="nb">induction</span> zs; <span class="nb">intros</span> xs ys p; dependent elimination i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>IHzs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : Œì ‚àã z) (<span class="nv">xs</span> <span class="nv">ys</span> : ctx X)
  (<span class="nv">p</span> : xs ‚äé ys ‚â° Œì), cover_view p i</span></span></span><br><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° (Œì ‚ñ∂‚Çì z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cover_view p top</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="covering-v-chk2a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì0</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>var z Œì0</span></span></span><br><span><var>IHzs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : Œì0 ‚àã z) (<span class="nv">xs</span> <span class="nv">ys</span> : ctx X)
  (<span class="nv">p</span> : xs ‚äé ys ‚â° Œì0), cover_view p i</span></span></span><br><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° (Œì0 ‚ñ∂‚Çì y)</span></span></span><br></div><label class="goal-separator" for="covering-v-chk2a"><hr></label><div class="goal-conclusion">cover_view p (pop v)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk2b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>IHzs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : Œì ‚àã z) (<span class="nv">xs</span> <span class="nv">ys</span> : ctx X)
  (<span class="nv">p</span> : xs ‚äé ys ‚â° Œì), cover_view p i</span></span></span><br><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° (Œì ‚ñ∂‚Çì z)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cover_view p top</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">dependent elimination p; [ <span class="bp">exact</span> (Vcov_l top) | <span class="bp">exact</span> (Vcov_r top) ].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk2c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì0</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>y, z</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>var z Œì0</span></span></span><br><span><var>IHzs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : Œì0 ‚àã z) (<span class="nv">xs</span> <span class="nv">ys</span> : ctx X)
  (<span class="nv">p</span> : xs ‚äé ys ‚â° Œì0), cover_view p i</span></span></span><br><span><var>xs, ys</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>xs ‚äé ys ‚â° (Œì0 ‚ñ∂‚Çì y)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cover_view p (pop v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk2d">dependent elimination p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>x, z</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>var z zs</span></span></span><br><span><var>IHzs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : zs ‚àã z) (<span class="nv">xs</span> <span class="nv">ys</span> : ctx X)
  (<span class="nv">p</span> : xs ‚äé ys ‚â° zs), cover_view p i</span></span></span><br><span><var>xs0, ys0</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>xs0 ‚äé ys0 ‚â° zs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cover_view (CLeft c) (pop v)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="covering-v-chk2e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>zs0</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>x0, z</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>var z zs0</span></span></span><br><span><var>IHzs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : zs0 ‚àã z) (<span class="nv">xs</span> <span class="nv">ys</span> : ctx X)
  (<span class="nv">p</span> : xs ‚äé ys ‚â° zs0), cover_view p i</span></span></span><br><span><var>xs1, ys1</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>c0</var><span class="hyp-type"><b>: </b><span>xs1 ‚äé ys1 ‚â° zs0</span></span></span><br></div><label class="goal-separator" for="covering-v-chk2e"><hr></label><div class="goal-conclusion">cover_view (CRight c0) (pop v)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk2f">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>zs</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>x, z</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>var z zs</span></span></span><br><span><var>IHzs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : zs ‚àã z) (<span class="nv">xs</span> <span class="nv">ys</span> : ctx X)
  (<span class="nv">p</span> : xs ‚äé ys ‚â° zs), cover_view p i</span></span></span><br><span><var>xs0, ys0</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>xs0 ‚äé ys0 ‚â° zs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cover_view (CLeft c) (pop v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (IHzs v _ _ c); [ <span class="bp">exact</span> (Vcov_l (pop i)) | <span class="bp">exact</span> (Vcov_r j) ].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk30">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>zs0</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>x0, z</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>var z zs0</span></span></span><br><span><var>IHzs</var><span class="hyp-type"><b>: </b><span><span class="kr">forall</span> (<span class="nv">i</span> : zs0 ‚àã z) (<span class="nv">xs</span> <span class="nv">ys</span> : ctx X)
  (<span class="nv">p</span> : xs ‚äé ys ‚â° zs0), cover_view p i</span></span></span><br><span><var>xs1, ys1</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>c0</var><span class="hyp-type"><b>: </b><span>xs1 ‚äé ys1 ‚â° zs0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cover_view (CRight c0) (pop v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (IHzs v _ _ c0); [ <span class="bp">exact</span> (Vcov_l i) | <span class="bp">exact</span> (Vcov_r (pop j)) ].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><p>Finishing the instanciation of the abstract interface for <tt class="docutils literal">ctx X</tt>.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Instance</span> <span class="nf">free_context_cat_wkn</span> : context_cat_wkn X (ctx X) :=
    {| r_cat_l _ _ := r_cover_l cover_cat ;
       r_cat_r _ _ := r_cover_r cover_cat |}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Program Instance</span> <span class="nf">free_context_laws</span> : context_laws X (ctx X).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk31"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>cvar ‚àÖ‚Çì t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c_emp_view t i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input">dependent elimination i.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk32"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì, Œî</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>cvar (ccat Œì Œî) t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c_cat_view Œì Œî t i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk33"><span class="nb">destruct</span> (view_cover cover_cat i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì, Œî</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Œì ‚àã t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c_cat_view Œì Œî t (r_cover_l cover_cat t i)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="covering-v-chk34" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì, Œî</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Œî ‚àã t</span></span></span><br></div><label class="goal-separator" for="covering-v-chk34"><hr></label><div class="goal-conclusion">c_cat_view Œì Œî t (r_cover_r cover_cat t j)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk35"><span class="bp">now</span> <span class="nb">refine</span> (Vcat_l _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì, Œî</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>Œî ‚àã t</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">c_cat_view Œì Œî t (r_cover_r cover_cat t j)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">refine</span> (Vcat_r _).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk36"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì, Œî</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">injective (r_cover_l cover_cat t)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> ?? H; <span class="bp">now</span> <span class="nb">apply</span> r_cover_l_inj <span class="kr">in</span> H.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk37"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì, Œî</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">injective (r_cover_r cover_cat t)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">intros</span> ?? H; <span class="bp">now</span> <span class="nb">apply</span> r_cover_r_inj <span class="kr">in</span> H.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk38"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì, Œî</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>t</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>cvar Œì t</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>cvar Œî t</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>r_cover_l cover_cat t i = r_cover_r cover_cat t j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">T0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">now</span> <span class="nb">apply</span> r_cover_disj <span class="kr">in</span> H.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><p>Additional utilities.</p>
<pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">a_cover</span> {<span class="nv">Œì1</span> <span class="nv">Œì2</span> <span class="nv">Œì3</span> <span class="nv">Œî</span>} (<span class="nv">p</span> : Œì1 ‚äé Œì2 ‚â° Œì3) (<span class="nv">u</span> : Œì1 =[F]&gt; Œî) (<span class="nv">v</span> : Œì2 =[F]&gt; Œî)
    : Œì3 =[F]&gt; Œî
    := <span class="kr">fun</span> <span class="nv">_</span> <span class="nv">i</span> =&gt; <span class="kr">match</span> view_cover p i <span class="kr">with</span>
               | Vcov_l i  =&gt; u _ i
               | Vcov_r j =&gt; v _ j
               <span class="kr">end</span> .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Arguments</span> a_cover _ _ _ _ _ _ _ _ /.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk39">#[<span class="kn">global</span>] <span class="kn">Instance</span> <span class="nf">a_cover_proper</span> {<span class="nv">Œì1</span> <span class="nv">Œì2</span> <span class="nv">Œì3</span> <span class="nv">Œî</span> <span class="nv">H</span>}
    : Proper (asgn_eq _ _ ==&gt; asgn_eq _ _ ==&gt; asgn_eq _ _) (@a_cover Œì1 Œì2 Œì3 Œî H).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì1, Œì2, Œì3, Œî</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Œì1 ‚äé Œì2 ‚â° Œì3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Proper
  (asgn_eq Œì1 Œî ==&gt; asgn_eq Œì2 Œî ==&gt; asgn_eq Œì3 Œî)
  (a_cover H)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk3a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì1, Œì2, Œì3, Œî</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Œì1 ‚äé Œì2 ‚â° Œì3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Proper
  (asgn_eq Œì1 Œî ==&gt; asgn_eq Œì2 Œî ==&gt; asgn_eq Œì3 Œî)
  (a_cover H)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="covering-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="covering-v-chk3b"><span class="nb">intros</span> ? ? H1 ? ? H2 ? i; <span class="nb">unfold</span> a_cover.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>F</var><span class="hyp-type"><b>: </b><span>Fam‚ÇÅ X (ctx X)</span></span></span><br><span><var>Œì1, Œì2, Œì3, Œî</var><span class="hyp-type"><b>: </b><span>ctx X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>Œì1 ‚äé Œì2 ‚â° Œì3</span></span></span><br><span><var>x, y</var><span class="hyp-type"><b>: </b><span>Œì1 =[ F ]&gt; Œî</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>x ‚â°‚Çê y</span></span></span><br><span><var>x0, y0</var><span class="hyp-type"><b>: </b><span>Œì2 =[ F ]&gt; Œî</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>x0 ‚â°‚Çê y0</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Œì3 ‚àã a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> view_cover H i <span class="kr">with</span>
| Vcov_l i =&gt; x a i
| Vcov_r j =&gt; x0 a j
<span class="kr">end</span> =
<span class="kr">match</span> view_cover H i <span class="kr">with</span>
| Vcov_l i =&gt; y a i
| Vcov_r j =&gt; y0 a j
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">destruct</span> (view_cover H i); [ <span class="bp">now</span> <span class="nb">apply</span> H1 | <span class="bp">now</span> <span class="nb">apply</span> H2 ].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">with_param</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Notation</span> <span class="s2">&quot;a ‚äé b ‚â° c&quot;</span> := (cover a b c).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Notation</span> <span class="s2">&quot;a ‚ñ∂‚Çê v&quot;</span> := (a_append a v) : asgn_scope.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Notation</span> <span class="s2">&quot;[ u , H , v ]&quot;</span> := (a_cover H u v) : asgn_scope.</span></span></pre></div>
</div>
</div></body>
</html>
